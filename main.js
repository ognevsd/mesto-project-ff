(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{le:()=>w,zX:()=>x,hI:()=>A,Av:()=>V,Oq:()=>g,OP:()=>E,E3:()=>O});var t=document.querySelector("#card-template").content;function r(e,r,n,o,c,i){var u=t.querySelector(".places__item").cloneNode(!0),a=u.querySelector(".card__delete-button"),s=u.querySelector(".card__like-button"),p=u.querySelector(".card__image");return u.querySelector(".card__title").textContent=e,p.src=r,p.alt=n,a.addEventListener("click",(function(){return o(u)})),s.addEventListener("click",(function(){return c(s)})),p.addEventListener("click",(function(){return i(r,n,e)})),u}function n(e){e.remove()}function o(e){e.classList.toggle("card__like-button_is-active")}function c(e){e.classList.add("popup_is-opened"),document.addEventListener("keydown",a),e.addEventListener("click",s)}function i(e){e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",a),e.removeEventListener("click",s)}function u(e){i(e.target.closest(".popup_is-opened"))}function a(e){"Escape"===e.key&&i(document.querySelector(".popup_is-opened"))}function s(e){e.target.matches(".popup_is-opened")&&i(e.target.closest(".popup_is-opened"))}function p(e,t,r){var n=e.querySelector(".".concat(t.id,"-error"));t.classList.remove(r.inputErrorClass),n.classList.remove(r.errorClass),n.textContent=""}function l(e,t,r){!function(e){return e.some((function(e){return!e.validity.valid}))}(e)?(t.disabled=!1,t.classList.remove(r.inactiveButtonClass)):(t.disabled=!0,t.classList.add(r.inactiveButtonClass))}function d(e,t){var r=Array.from(e.querySelectorAll(t.inputSelector)),n=e.querySelector(t.submitButtonSelector);r.forEach((function(r){r.setCustomValidity(""),r.removeAttribute("data-error-message"),p(e,r,t)})),n.classList.add(t.inactiveButtonClass),n.disabled=!0}document.querySelectorAll(".popup").forEach((function(e){e.classList.add("popup_is-animated")}));var m=document.querySelector(".profile__title"),_=document.querySelector(".profile__description"),f=document.querySelector(".popup__input_type_name"),v=document.querySelector(".popup__input_type_description"),y=document.querySelector(".popup__input_type_card-name"),S=document.querySelector(".popup__input_type_url"),q=document.querySelector(".profile__edit-button"),k=document.querySelector(".profile__add-button"),b=document.querySelectorAll(".popup__close"),E=document.querySelector(".popup_type_edit"),g=document.querySelector(".popup_type_new-card"),L=document.querySelector(".popup_type_image"),C=L.querySelector(".popup__image"),h=L.querySelector(".popup__caption"),x=document.forms["edit-profile"],A=document.querySelector('.popup__form[name="new-place"]'),j=document.querySelector(".profile__title"),B=document.querySelector(".profile__description"),w=document.querySelector(".places__list"),O={inputRegex:/^[a-zA-Zа-яА-Я\s-]+$/,inputsToValidate:["profile-name-input","profile-description-input","new-place-name-input"],customErrorMessage:"Разрешены только латинские, кириллические буквы, знаки дефиса и пробелы",formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button-disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"};function V(e,t,r){C.src=e,C.alt=t,h.textContent=r,c(L)}!function(e){Array.from(document.querySelectorAll(e.formSelector)).forEach((function(t){!function(e,t){var r=Array.from(e.querySelectorAll(t.inputSelector)),n=e.querySelector(t.submitButtonSelector);l(r,n,t),r.forEach((function(o){o.addEventListener("input",(function(){!function(e,t,r){r.inputsToValidate.includes(t.id)&&(r.inputRegex.test(t.value)?(t.setCustomValidity(""),t.removeAttribute("data-error-message")):(t.setAttribute("data-error-message",r.customErrorMessage),t.setCustomValidity(t.dataset.errorMessage))),function(e,t,r){t.validity.valid?p(e,t,r):function(e,t,r,n){var o=e.querySelector(".".concat(t.id,"-error"));t.classList.add(n.inputErrorClass),o.textContent=r,o.classList.add(n.errorClass)}(e,t,t.validationMessage,r)}(e,t,r)}(e,o,t),l(r,n,t)}))}))}(t,e)}))}(O),b.forEach((function(e){e.addEventListener("click",u)})),[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg",alt:"Горы Архыза"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg",alt:"Озеро в Челябинской области"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg",alt:"Дома в Иваново"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg",alt:"Камчатская сопка"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg",alt:"Железная дорога"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg",alt:"Озеро Байкал"}].forEach((function(e){var t=r(e.name,e.link,e.alt,n,o,V);w.append(t)})),q.addEventListener("click",(function(){d(x,O),x.elements.name.value=j.textContent,x.elements.description.value=B.textContent,c(E)})),k.addEventListener("click",(function(){d(A,O),c(g)})),x.addEventListener("submit",(function(e){e.preventDefault();var t=f.value,r=v.value;m.textContent=t,_.textContent=r,i(E),d(x,O)})),A.addEventListener("submit",(function(e){e.preventDefault();var t=r(y.value,S.value,"",n,o,V);w.prepend(t),i(g),y.value="",S.value="",d(A,O)}))})();